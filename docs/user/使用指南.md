# 设置功能使用示例

## 快速开始

### 1. 运行应用程序

```bash
cd "c:\Project\知秋工作平台"
python demo.py
```

### 2. 打开设置界面

在应用程序底部导航栏中，点击"设置"图标（齿轮图标）

## 功能详解

### 个性化设置

#### 1️⃣ Mica 效果
**位置**：个性化 → Mica 效果

**功能说明**：
- 为窗口应用半透明的 Mica 材质效果
- 仅在 Windows 11 系统上可用
- 在 Windows 10 及以下系统，该选项显示为灰色不可用

**操作方法**：
- 点击开关按钮即可启用/禁用
- 立即生效，无需重启

**效果**：
```
✅ 开启：窗口背景呈现半透明模糊效果
❌ 关闭：窗口背景为纯色
```

---

#### 2️⃣ 应用主题
**位置**：个性化 → 应用主题

**可选项**：
- 🌞 **浅色**：明亮的白色主题
- 🌙 **深色**：深邃的黑色主题
- 🖥️ **跟随系统设置**：自动跟随 Windows 系统主题

**操作方法**：
- 点击选项按钮选择主题
- 立即生效，无需重启

**效果示例**：
```
浅色模式：白色背景 + 深色文字 + 亮色卡片
深色模式：黑色背景 + 浅色文字 + 深色卡片
```

---

#### 3️⃣ 主题色
**位置**：个性化 → 主题色

**功能说明**：
- 自定义应用程序的强调色
- 影响按钮、链接、选中状态等元素的颜色

**操作方法**：
1. 点击色块打开颜色选择器
2. 可以选择预设颜色或自定义颜色
3. 点击"确定"应用更改

**效果**：
- 导航栏选中项的颜色
- 按钮的强调色
- 进度条、滑块等组件的颜色

---

#### 4️⃣ 界面缩放
**位置**：个性化 → 界面缩放

**可选项**：
- 100%（默认）
- 125%
- 150%
- 175%
- 200%
- 跟随系统设置

**操作方法**：
- 选择缩放比例
- 会显示"配置在重启后生效"提示
- 关闭应用并重新运行生效

**使用场景**：
```
100%：适合标准显示器
125%-150%：适合高分屏，提高可读性
175%-200%：适合 4K 显示器或视力需求
```

⚠️ **注意**：需要重启应用才能生效

---

#### 5️⃣ 语言设置
**位置**：个性化 → 语言

**可选项**：
- 🇨🇳 简体中文
- 🇺🇸 English
- 🌐 跟随系统设置

**操作方法**：
- 下拉选择语言
- 会显示"配置在重启后生效"提示
- 关闭应用并重新运行生效

⚠️ **注意**：需要重启应用才能生效

---

### 材料设置

#### 🎨 亚克力模糊半径
**位置**：材料 → 亚克力模糊半径

**功能说明**：
- 调整亚克力材质效果的模糊程度
- 范围：0-40
- 数值越大，模糊效果越明显

**操作方法**：
- 拖动滑块调整数值
- 实时生效

**效果对比**：
```
0   ：无模糊，完全清晰
15  ：默认值，轻微模糊
30  ：中度模糊
40  ：强烈模糊
```

**应用场景**：
- 影响所有使用亚克力材质的组件
- 如：亚克力菜单、亚克力工具提示等

---

## 配置文件说明

所有设置会自动保存到 `config.json` 文件中：

```json
{
    "MainWindow": {
        "MicaEnabled": true,
        "DpiScale": "Auto",
        "Language": "Auto"
    },
    "Material": {
        "AcrylicBlurRadius": 15
    },
    "QFluentWidgets": {
        "ThemeMode": "Auto",
        "ThemeColor": "#0078d4"
    }
}
```

### 手动编辑配置

如果需要手动编辑配置文件：

1. 关闭应用程序
2. 用文本编辑器打开 `config.json`
3. 修改对应的值
4. 保存文件
5. 重新启动应用程序

**参数说明**：
- `MicaEnabled`: true/false
- `DpiScale`: 1, 1.25, 1.5, 1.75, 2, "Auto"
- `Language`: "zh_CN", "en_US", "Auto"
- `AcrylicBlurRadius`: 0-40 的整数
- `ThemeMode`: "Light", "Dark", "Auto"
- `ThemeColor`: 十六进制颜色代码

---

## 常见问题

### Q1: 为什么 Mica 效果选项是灰色的？
**A**: Mica 效果仅在 Windows 11 系统上可用。如果你使用的是 Windows 10 或更早版本，该功能会被自动禁用。

### Q2: 更改缩放或语言后为什么没有立即生效？
**A**: 这些设置需要重启应用程序才能生效。请关闭应用后重新运行。

### Q3: 我看到"Acrylic is not supported"警告怎么办？
**A**: 这是因为使用的是基础版的 QFluentWidgets。如果需要完整的亚克力效果支持，可以安装完整版：
```bash
pip install PyQt6-Fluent-Widgets[full]
```
但这不影响其他功能的正常使用。

### Q4: 如何恢复默认设置？
**A**: 删除 `config.json` 文件，应用程序将在下次启动时使用默认配置。

### Q5: 主题色更改后哪些地方会变化？
**A**: 主题色会影响：
- 导航栏选中项的背景色
- 主要按钮的背景色
- 链接文字的颜色
- 进度条、滑块的填充色
- 复选框、开关等选中状态的颜色

---

## 使用技巧

### 💡 技巧 1：快速切换主题
使用快捷键或在设置中一键切换浅色/深色主题，适应不同的工作环境。

### 💡 技巧 2：自定义品牌色
通过主题色设置，可以将应用调整为符合你的品牌色或个人喜好。

### 💡 技巧 3：高分屏优化
如果使用 2K/4K 显示器，建议将界面缩放设置为 125%-150%，以获得最佳的视觉体验。

### 💡 技巧 4：性能优化
如果电脑性能较低，可以：
- 关闭 Mica 效果
- 降低亚克力模糊半径
- 使用浅色主题（比深色主题性能略好）

---

## 演示截图建议

为了更好地展示功能，建议截取以下场景：

1. **主题对比**：浅色主题和深色主题的对比图
2. **主题色展示**：不同主题色的效果对比
3. **Mica 效果**：开启和关闭 Mica 效果的对比（需 Win11）
4. **缩放效果**：不同缩放比例的界面对比
5. **模糊半径**：不同模糊半径值的效果对比

---

## 开发者备注

如需在代码中访问配置：

```python
from config import cfg

# 获取配置值
blur_radius = cfg.get(cfg.blurRadius)
theme_mode = cfg.get(cfg.themeMode)
mica_enabled = cfg.get(cfg.micaEnabled)

# 设置配置值
cfg.set(cfg.blurRadius, 20)
cfg.set(cfg.themeMode, Theme.DARK)

# 监听配置变化
cfg.blurRadius.valueChanged.connect(on_blur_changed)
cfg.themeChanged.connect(on_theme_changed)
```

---

**最后更新日期**：2025-10-20
**版本**：v1.0
